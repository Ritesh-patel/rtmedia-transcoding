/*! 
 * rtMedia Transcoding JavaScript Library 
 * @package rtMediaTranscoding 
 */jQuery(document).ready(function(){jQuery(document).on("click",".rtm-transcoding-try-now",function(a){a.preventDefault(),jQuery(".rtm-transcoding-new-key-spinner").addClass("is-active");var b={action:"rtmedia_free_encoding_subscribe",nonce:jQuery("#rtm_transcoding_settings_nonce").val()};jQuery.getJSON(ajaxurl,b,function(a){if(jQuery(".rtm-transcoding-new-key-spinner").removeClass("is-active"),void 0===a.error&&a.apikey){var b=window.location.href,c=window.location.hash;b=b.replace(c,""),document.location.href=b+"&apikey="+a.apikey+c}else jQuery(".rtm-transcoding-settings-error").remove(),jQuery(".rtm-transcoding-settings").before('<div class="error rtm-transcoding-settings-error"><p>'+a.error+"</p></div>")})}),jQuery(document).on("click",".rtm-disable-transcoding",function(a){a.preventDefault(),jQuery(".rtm-enable-disable-spinner-transcoding").addClass("is-active");var b={action:"rtm_disable_transcoding",nonce:jQuery("#rtm_transcoding_settings_nonce").val()};jQuery.post(ajaxurl,b,function(a){jQuery(".rtm-enable-disable-spinner-transcoding").removeClass("is-active"),a?(jQuery(".settings-error-encoding-disabled").remove(),jQuery("#rtm-transcoding-settings-updated").length>0?jQuery("#rtm-transcoding-settings-updated p").html(a):jQuery(".rtm-transcoding-settings").before('<div class="updated" id="rtm-transcoding-settings-updated"><p>'+a+"</p></div>"),jQuery(".rtm-disable-transcoding").hide(),jQuery(".rtm-enable-transcoding").show()):(jQuery(".rtm-transcoding-settings-error").remove(),jQuery(".rtm-transcoding-settings").before('<div class="error rtm-transcoding-settings-error"><p>Something went wrong. Please <a href onclick="location.reload();">refresh</a> page.</p></div>'))})}),jQuery(document).on("click",".rtm-enable-transcoding",function(a){a.preventDefault(),jQuery(".rtm-enable-disable-spinner-transcoding").addClass("is-active");var b={action:"rtm_enable_transcoding",nonce:jQuery("#rtm_transcoding_settings_nonce").val()};jQuery.post(ajaxurl,b,function(a){jQuery(".rtm-enable-disable-spinner-transcoding").removeClass("is-active"),a?(jQuery(".settings-error-encoding-enabled").remove(),jQuery("#rtm-transcoding-settings-updated").length>0?jQuery("#rtm-transcoding-settings-updated p").html(a):jQuery(".rtm-transcoding-settings").before('<div class="updated" id="rtm-transcoding-settings-updated"><p>'+a+"</p></div>"),jQuery(".rtm-enable-transcoding").hide(),jQuery(".rtm-disable-transcoding").show()):(jQuery(".rtm-transcoding-settings-error").remove(),jQuery(".rtm-transcoding-settings").before('<div class="error rtm-transcoding-settings-error"><p>Something went wrong. Please <a href onclick="location.reload();">refresh</a> page.</p></div>'))})}),jQuery(".rtm-encoding-table").on("click",".rtm-transcoding-unsubscribe",function(a){if(a.preventDefault(),confirm("Are you sure you want to unsubscribe the service?")){jQuery(".rtm-transcoding-unsubscribe-spinner").addClass("is-active");var b={action:"rtm_unsubscribe_transcoding",note:jQuery("#rtm-transcoding-unsubscribe-note").val(),plan:jQuery(".rtm-transcoding-unsubscribe").attr("data-plan"),price:jQuery(".rtm-transcoding-unsubscribe").attr("data-price")};jQuery.getJSON(ajaxurl,b,function(a){jQuery(".rtm-transcoding-unsubscribe-spinner").removeClass("is-active"),void 0===a.error&&a.updated?(jQuery(".rtm-transcoding-unsubscribe").after(a.form),jQuery(".rtm-transcoding-unsubscribe").remove(),jQuery("#settings-unsubscribed-successfully").remove(),jQuery("#settings-unsubscribe-error").remove(),jQuery("h2:first").after('<div class="updated" id="settings-unsubscribed-successfully"><p>'+a.updated+"</p></div>"),window.location.hash="#settings-unsubscribed-successfully"):(jQuery("#settings-unsubscribed-successfully").remove(),jQuery("#settings-unsubscribe-error").remove(),jQuery("h2:first").after('<div class="error" id="settings-unsubscribe-error"><p>'+a.error+"</p></div>"),window.location.hash="#settings-unsubscribe-error")})}})});